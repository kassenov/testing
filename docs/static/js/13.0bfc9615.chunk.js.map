{"version":3,"sources":["shared/components/ColoredButton.js","shared/components/DialogTitleWithCloseIcon.js","shared/components/FormDialog.js","logged_in/components/subscription/stripe/StripeTextField.js","logged_in/components/subscription/stripe/StripeCardForm.js","logged_in/components/subscription/stripe/StripeIBANForm.js","logged_in/components/subscription/AddBalanceDialog.js"],"names":["ColoredButton","props","color","children","theme","buttonTheme","createMuiTheme","palette","primary","main","buttonProps","memo","withTheme","paddingBottom","onClose","disabled","title","disablePadding","DialogTitle","style","spacing","paddingLeft","paddingRight","paddingTop","width","disableTypography","Box","display","justifyContent","Typography","variant","IconButton","onClick","marginRight","marginTop","withStyles","dialogPaper","flexDirection","alignItems","maxWidth","actions","dialogPaperScrollPaper","maxHeight","dialogContent","classes","open","loading","headline","onFormSubmit","content","hideBackdrop","Dialog","disableBackdropClick","disableEscapeKeyDown","paper","paperScrollPaper","DialogContent","className","onSubmit","MyInputComponent","Component","component","inputRef","other","React","useImperativeHandle","focus","stripeOptions","StripeElement","select","rest","options","base","typography","body1","text","fontSize","fontSmoothing","secondary","invalid","iconColor","error","TextField","InputLabelProps","shrink","inputProps","InputProps","inputComponent","StripeCardForm","stripeError","setStripeError","amount","amountError","onAmountChange","name","setName","Grid","container","justify","item","xs","margin","required","label","value","onChange","event","target","fullWidth","autoFocus","autoComplete","type","parseInt","helperText","startAdornment","InputAdornment","position","CardElement","StripeIBANForm","email","setEmail","IbanElement","supportedCountries","stripePromise","loadStripe","paymentOptions","AddBalanceDialog","onSuccess","useState","setLoading","paymentOption","setPaymentOption","setAmount","setAmountError","elements","useElements","stripe","useStripe","getStripePaymentInfo","card","getElement","billing_details","sepa_debit","Error","FormDialog","preventDefault","createPaymentMethod","message","pb","mb","map","option","disableElevation","common","black","HighlightedInformation","renderPaymentComponent","Button","size","ButtonCircularProgress","Wrapper"],"mappings":"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","file":"static/js/13.0bfc9615.chunk.js","sourcesContent":["import React, { memo } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, createMuiTheme, MuiThemeProvider } from \"@material-ui/core\";\n\nfunction ColoredButton(props) {\n  const { color, children, theme } = props;\n  const buttonTheme = createMuiTheme({\n    ...theme,\n    palette: {\n      primary: {\n        main: color\n      }\n    }\n  });\n  const buttonProps = (({ color, theme, children, ...o }) => o)(props);\n  return (\n    <MuiThemeProvider theme={buttonTheme}>\n      <Button {...buttonProps} color=\"primary\">\n        {children}\n      </Button>\n    </MuiThemeProvider>\n  );\n}\n\nColoredButton.propTypes = {\n  color: PropTypes.string.isRequired\n};\n\nexport default memo(ColoredButton);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  IconButton,\n  DialogTitle,\n  Typography,\n  Box,\n  withTheme\n} from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nfunction DialogTitleWithCloseIcon(props) {\n  const {\n    theme,\n    paddingBottom,\n    onClose,\n    disabled,\n    title,\n    disablePadding\n  } = props;\n  return (\n    <DialogTitle\n      style={{\n        paddingBottom: paddingBottom\n          ? paddingBottom && disablePadding\n            ? 0\n            : paddingBottom\n          : theme.spacing(3),\n        paddingLeft: disablePadding ? 0 : null,\n        paddingRight: disablePadding ? 0 : null,\n        paddingTop: disablePadding ? 0 : theme.spacing(2),\n        width: \"100%\"\n      }}\n      disableTypography\n    >\n      <Box display=\"flex\" justifyContent=\"space-between\">\n        <Typography variant=\"h5\">{title}</Typography>\n        <IconButton\n          onClick={onClose}\n          style={{ marginRight: -12, marginTop: -10 }}\n          disabled={disabled}\n          aria-label=\"Close\"\n        >\n          <CloseIcon />\n        </IconButton>\n      </Box>\n    </DialogTitle>\n  );\n}\n\nDialogTitleWithCloseIcon.propTypes = {\n  theme: PropTypes.object,\n  paddingBottom: PropTypes.number,\n  onClose: PropTypes.func,\n  disabled: PropTypes.bool,\n  title: PropTypes.string,\n  disablePadding: PropTypes.bool\n};\n\nexport default withTheme(DialogTitleWithCloseIcon);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Dialog, DialogContent, Box, withStyles } from \"@material-ui/core\";\nimport DialogTitleWithCloseIcon from \"./DialogTitleWithCloseIcon\";\n\nconst styles = theme => ({\n  dialogPaper: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    paddingBottom: theme.spacing(3),\n    maxWidth: 420\n  },\n  actions: {\n    marginTop: theme.spacing(2)\n  },\n  dialogPaperScrollPaper: {\n    maxHeight: \"none\"\n  },\n  dialogContent: {\n    paddingTop: 0,\n    paddingBottom: 0\n  }\n});\n\n/**\n * A Wrapper around the Dialog component to create centered\n * Login, Register or other Dialogs.\n */\nfunction FormDialog(props) {\n  const {\n    classes,\n    open,\n    onClose,\n    loading,\n    headline,\n    onFormSubmit,\n    content,\n    actions,\n    hideBackdrop\n  } = props;\n  return (\n    <Dialog\n      open={open}\n      onClose={onClose}\n      disableBackdropClick={loading}\n      disableEscapeKeyDown={loading}\n      classes={{\n        paper: classes.dialogPaper,\n        paperScrollPaper: classes.dialogPaperScrollPaper\n      }}\n      hideBackdrop={hideBackdrop ? hideBackdrop : false}\n    >\n      <DialogTitleWithCloseIcon\n        title={headline}\n        onClose={onClose}\n        disabled={loading}\n      />\n      <DialogContent className={classes.dialogContent}>\n        <form onSubmit={onFormSubmit}>\n          <div>{content}</div>\n          <Box width=\"100%\" className={classes.actions}>\n            {actions}\n          </Box>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nFormDialog.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  headline: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  onFormSubmit: PropTypes.func.isRequired,\n  content: PropTypes.element.isRequired,\n  actions: PropTypes.element.isRequired,\n  hideBackdrop: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(FormDialog);\n","import React from \"react\";\nimport { TextField, withTheme } from \"@material-ui/core\";\n\nfunction MyInputComponent(props) {\n  const { component: Component, inputRef, ...other } = props;\n\n  // implement `InputElement` interface\n  React.useImperativeHandle(inputRef, () => ({\n    focus: () => {\n      // logic to focus the rendered component from 3rd party belongs here\n    }\n    // hiding the value e.g. react-stripe-elements\n  }));\n\n  // `Component` will be your `SomeThirdPartyComponent` from below\n  return <Component {...other} />;\n}\n\nfunction StripeTextField(props) {\n  const { stripeOptions, StripeElement, select, theme, ...rest } = props;\n  const options = {\n    style: {\n      base: {\n        ...theme.typography.body1,\n        color: theme.palette.text.primary,\n        fontSize: \"16px\",\n        fontSmoothing: \"antialiased\",\n        \"::placeholder\": {\n          color: theme.palette.text.secondary\n        }\n      },\n      invalid: {\n        iconColor: theme.palette.error.main,\n        color: theme.palette.error.main\n      }\n    },\n    ...stripeOptions\n  };\n  return (\n    <TextField\n      InputLabelProps={{\n        shrink: true\n      }}\n      inputProps={{ component: StripeElement, options: options }}\n      InputProps={{\n        inputComponent: MyInputComponent\n      }}\n      {...rest}\n    />\n  );\n}\n\nexport default withTheme(StripeTextField);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TextField, Grid, InputAdornment } from \"@material-ui/core\";\nimport { CardElement } from \"@stripe/react-stripe-js\";\nimport StripeTextField from \"./StripeTextField\";\n\nfunction StripeCardForm(props) {\n  const {\n    stripeError,\n    setStripeError,\n    amount,\n    amountError,\n    onAmountChange,\n    name,\n    setName\n  } = props;\n  return (\n    <Grid container spacing={2} justify=\"space-between\">\n      <Grid item xs={8}>\n        <TextField\n          variant=\"outlined\"\n          margin=\"none\"\n          required\n          label=\"Your Name\"\n          value={name}\n          onChange={event => {\n            setName(event.target.value);\n          }}\n          fullWidth\n          autoFocus\n          autoComplete=\"off\"\n          type=\"text\"\n        />\n      </Grid>\n      <Grid item xs={4}>\n        <TextField\n          required\n          value={amount}\n          onChange={event => {\n            onAmountChange(parseInt(event.target.value));\n          }}\n          error={amountError ? true : false}\n          helperText={amountError}\n          variant=\"outlined\"\n          fullWidth\n          type=\"number\"\n          margin=\"none\"\n          label=\"Amount\"\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n          }}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <StripeTextField\n          margin=\"none\"\n          fullWidth\n          label=\"Credit Card\"\n          error={stripeError ? true : false}\n          helperText={stripeError}\n          variant=\"outlined\"\n          required\n          StripeElement={CardElement}\n          onChange={() => {\n            if (stripeError) {\n              setStripeError(\"\");\n            }\n          }}\n        ></StripeTextField>\n      </Grid>\n    </Grid>\n  );\n}\n\nStripeCardForm.propTypes = {\n  stripeError: PropTypes.string.isRequired,\n  setStripeError: PropTypes.func.isRequired,\n  amount: PropTypes.number.isRequired,\n  onAmountChange: PropTypes.func.isRequired,\n  amountError: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  setName: PropTypes.func.isRequired\n};\n\nexport default StripeCardForm;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { TextField, Grid, InputAdornment } from \"@material-ui/core\";\nimport StripeTextField from \"./StripeTextField\";\nimport { IbanElement } from \"@stripe/react-stripe-js\";\n\nfunction StripeIBANForm(props) {\n  const {\n    stripeError,\n    setStripeError,\n    amount,\n    amountError,\n    onAmountChange,\n    name,\n    setName,\n    email,\n    setEmail\n  } = props;\n  return (\n    <Grid container spacing={2} justify=\"space-between\">\n      <Grid item xs={8}>\n        <TextField\n          variant=\"outlined\"\n          margin=\"none\"\n          required\n          label=\"Your Name\"\n          value={name}\n          onChange={event => {\n            setName(event.target.value);\n          }}\n          fullWidth\n          autoFocus\n          autoComplete=\"off\"\n          type=\"text\"\n        />\n      </Grid>\n      <Grid item xs={4}>\n        <TextField\n          required\n          value={amount}\n          onChange={event => {\n            onAmountChange(parseInt(event.target.value));\n          }}\n          error={amountError ? true : false}\n          helperText={amountError}\n          variant=\"outlined\"\n          fullWidth\n          type=\"number\"\n          margin=\"none\"\n          label=\"Amount\"\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\n          }}\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <TextField\n          required\n          variant=\"outlined\"\n          fullWidth\n          value={email}\n          onChange={event => {\n            setEmail(event.target.value);\n          }}\n          type=\"email\"\n          margin=\"none\"\n          label=\"Email\"\n        />\n      </Grid>\n      <Grid item xs={12}>\n        <StripeTextField\n          margin=\"none\"\n          variant=\"outlined\"\n          fullWidth\n          label=\"IBAN\"\n          error={stripeError ? true : false}\n          helperText={stripeError}\n          required\n          StripeElement={IbanElement}\n          stripeOptions={{ supportedCountries: [\"SEPA\"] }}\n          onChange={() => {\n            if (stripeError) {\n              setStripeError(\"\");\n            }\n          }}\n        ></StripeTextField>\n      </Grid>\n    </Grid>\n  );\n}\n\nStripeIBANForm.propTypes = {\n  stripeError: PropTypes.string.isRequired,\n  setStripeError: PropTypes.func.isRequired,\n  amount: PropTypes.number.isRequired,\n  onAmountChange: PropTypes.func.isRequired,\n  amountError: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  setName: PropTypes.func.isRequired,\n  email: PropTypes.string.isRequired,\n  setEmail: PropTypes.func.isRequired\n};\n\nexport default StripeIBANForm;\n","import React, { useState, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport {\n  Elements,\n  CardElement,\n  IbanElement,\n  useStripe,\n  useElements\n} from \"@stripe/react-stripe-js\";\nimport { Grid, Button, Box, withTheme } from \"@material-ui/core\";\nimport StripeCardForm from \"./stripe/StripeCardForm\";\nimport StripeIbanForm from \"./stripe/StripeIBANForm\";\nimport FormDialog from \"../../../shared/components/FormDialog\";\nimport ColoredButton from \"../../../shared/components/ColoredButton\";\nimport HighlightedInformation from \"../../../shared/components/HighlightedInformation\";\nimport ButtonCircularProgress from \"../../../shared/components/ButtonCircularProgress\";\n\nconst stripePromise = loadStripe(\"pk_test_6pRNASCoBOKtIshFeQd4XMUh\");\n\nconst paymentOptions = [\"Credit Card\", \"SEPA Direct Debit\"];\n\nconst AddBalanceDialog = withTheme(function (props) {\n  const { open, theme, onClose, onSuccess } = props;\n\n  const [loading, setLoading] = useState(false);\n  const [paymentOption, setPaymentOption] = useState(\"Credit Card\");\n  const [stripeError, setStripeError] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [amount, setAmount] = useState(0);\n  const [amountError, setAmountError] = useState(\"\");\n  const elements = useElements();\n  const stripe = useStripe();\n\n  const onAmountChange = amount => {\n    if (amount < 0) {\n      return;\n    }\n    if (amountError) {\n      setAmountError(\"\");\n    }\n    setAmount(amount);\n  };\n\n  const getStripePaymentInfo = () => {\n    switch (paymentOption) {\n      case \"Credit Card\": {\n        return {\n          type: \"card\",\n          card: elements.getElement(CardElement),\n          billing_details: { name: name }\n        };\n      }\n      case \"SEPA Direct Debit\": {\n        return {\n          type: \"sepa_debit\",\n          sepa_debit: elements.getElement(IbanElement),\n          billing_details: { email: email, name: name }\n        };\n      }\n      default:\n        throw new Error(\"No case selected in switch statement\");\n    }\n  };\n\n  const renderPaymentComponent = () => {\n    switch (paymentOption) {\n      case \"Credit Card\":\n        return (\n          <Fragment>\n            <Box mb={2}>\n              <StripeCardForm\n                stripeError={stripeError}\n                setStripeError={setStripeError}\n                setName={setName}\n                name={name}\n                amount={amount}\n                amountError={amountError}\n                onAmountChange={onAmountChange}\n              />\n            </Box>\n            <HighlightedInformation>\n              You can check this integration using the credit card number{\" \"}\n              <b>4242 4242 4242 4242 04 / 24 24 242 42424</b>\n            </HighlightedInformation>\n          </Fragment>\n        );\n      case \"SEPA Direct Debit\":\n        return (\n          <Fragment>\n            <Box mb={2}>\n              <StripeIbanForm\n                stripeError={stripeError}\n                setStripeError={setStripeError}\n                setName={setName}\n                setEmail={setEmail}\n                name={name}\n                email={email}\n                amount={amount}\n                amountError={amountError}\n                onAmountChange={onAmountChange}\n              />\n            </Box>\n            <HighlightedInformation>\n              You can check this integration using the IBAN\n              <br />\n              <b>DE89370400440532013000</b>\n            </HighlightedInformation>\n          </Fragment>\n        );\n      default:\n        throw new Error(\"No case selected in switch statement\");\n    }\n  };\n\n  return (\n    <FormDialog\n      open={open}\n      onClose={onClose}\n      headline=\"Add Balance\"\n      hideBackdrop={false}\n      loading={loading}\n      onFormSubmit={async event => {\n        event.preventDefault();\n        if (amount <= 0) {\n          setAmountError(\"Can't be zero\");\n          return;\n        }\n        if (stripeError) {\n          setStripeError(\"\");\n        }\n        setLoading(true);\n        const { error } = await stripe.createPaymentMethod(\n          getStripePaymentInfo()\n        );\n        if (error) {\n          setStripeError(error.message);\n          setLoading(false);\n          return;\n        }\n        onSuccess();\n      }}\n      content={\n        <Box pb={2}>\n          <Box mb={2}>\n            <Grid container spacing={1}>\n              {paymentOptions.map(option => (\n                <Grid item key={option}>\n                  <ColoredButton\n                    variant={\n                      option === paymentOption ? \"contained\" : \"outlined\"\n                    }\n                    disableElevation\n                    onClick={() => {\n                      setStripeError(\"\");\n                      setPaymentOption(option);\n                    }}\n                    color={theme.palette.common.black}\n                  >\n                    {option}\n                  </ColoredButton>\n                </Grid>\n              ))}\n            </Grid>\n          </Box>\n          {renderPaymentComponent()}\n        </Box>\n      }\n      actions={\n        <Fragment>\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"secondary\"\n            type=\"submit\"\n            size=\"large\"\n            disabled={loading}\n          >\n            Pay with Stripe {loading && <ButtonCircularProgress />}\n          </Button>\n        </Fragment>\n      }\n    />\n  );\n});\n\nAddBalanceDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  theme: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired\n};\n\nfunction Wrapper(props) {\n  const { open, onClose, onSuccess } = props;\n  return (\n    <Elements stripe={stripePromise}>\n      {open && (\n        <AddBalanceDialog open={open} onClose={onClose} onSuccess={onSuccess} />\n      )}\n    </Elements>\n  );\n}\n\n\nAddBalanceDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired\n};\n\nexport default Wrapper;\n"],"sourceRoot":""}